# Vibe Codesitor - Music Notation Converter Instructions

## Overview
Vibe Codesitor is a web-based music notation converter that transforms custom text-based musical notation into playable audio. It supports multiple instruments and allows for complex musical compositions using a simple, readable syntax.

## Quick Start
1. Open `index.html` in a web browser
2. Enter your music notation in the text area
3. Click "Play Music" to hear the audio
4. Use "Stop" to halt playback

## Notation Syntax

### Basic Format
```
instrument:note1.duration,note2.duration|nextMeasure;
nextInstrument:note1.duration;
```

### Syntax Rules
- **Instruments**: Separated by semicolons (`;`)
- **Measures**: Separated by pipes (`|`)  
- **Notes**: Separated by commas (`,`)
- **Chords**: Notes joined with plus (`+`)
- **Comments**: Use `//` for line comments
- **Rests**: Use empty spaces or commas without notes

### Note Format
- **Standard Notes**: `PitchOctave.Duration` (e.g., `C4.1`, `F#3.0.5`)
- **Pitch**: A-G, with optional sharp (`#`) or flat (`b`)
- **Octave**: Number from 0-8 (4 is middle octave)
- **Duration**: Decimal values (1 = whole note, 0.5 = half note, 0.25 = quarter note)

## Supported Instruments

### Melodic Instruments
- **piano**: Standard piano sound with clear attack
- **violin**: Bowed string sound with vibrato
- **bass**: Deep bass tones, typically used for basslines
- **panduri**: Georgian traditional plucked string instrument
- **choir**: Human vocal ensemble sound
- **timpani**: Orchestral kettle drums with pitch

### Percussion
- **drums**: Percussion kit with multiple sounds:
  - `k` - Kick drum
  - `s` - Snare drum  
  - `h` - Hi-hat
  - `d` - Frame drum (doli)

## Examples

### Simple Chord Progression
```
piano:C4.1+E4.1+G4.1|F4.1+A4.1+C5.1|G4.1+B4.1+D5.1|C4.2+E4.2+G4.2;
```

### Multi-Instrument Arrangement
```
piano:C4.0.5+E4.0.5+G4.0.5,C4.0.5+F4.0.5+A4.0.5|D4.0.5+F4.0.5+B4.0.5,C4.0.5+E4.0.5+G4.0.5;
bass:C2.1|G2.1|F2.1|C2.1;
drums:k.0.5,s.0.5,k.0.5,s.0.5|k.0.5,s.0.5,k.0.5,s.0.5;
```

### Traditional Georgian Style
```
// Main melody
violin:D5.0.5,E5.0.5|F5.1.5,E5.0.5,D5.1,A4.1|C5.1.5,D5.0.5,C5.1,A4.1;

// Plucked accompaniment  
panduri:D4.0.25,A4.0.25,D5.0.25,A4.0.25|D4.0.25,A4.0.25,D5.0.25,A4.0.25;

// Bass drone
bass:D3.4|D3.4;

// Frame drum
drums:d.1,d.0.5,d.0.5|d.1,d.0.5,d.0.5;
```

### Advanced Chord Progressions with Rests
```
piano:C4.1+E4.1+G4.1,,,|F4.1+A4.1+C5.1,,,|Am4.1+C5.1+E5.1,G4.1+B4.1+D5.1;
```

## Advanced Features

### Comments
Use `//` to add comments for documentation:
```
// This is a comment
piano:C4.1+E4.1+G4.1; // Inline comment
```

### Rests and Timing
- Empty positions create rests: `piano:C4.1,,,|F4.1;`
- Different duration values: `0.25` (quarter), `0.5` (half), `1` (whole), `2` (double whole)
- Dotted notes: `1.5` (dotted whole), `0.75` (dotted half)

### Complex Rhythms
```
drums:k.0.25,h.0.25,s.0.5|k.0.25,k.0.25,s.0.25,h.0.25;
```

### Polyphonic Arrangements
```
choir:A4.1+D5.1,A4.1+D5.1|G4.1+Bb4.1,A4.1+C5.1|F#4.1+A4.1+D5.1,G4.1+Bb4.1+D5.1;
```

## Developer API Usage

### Basic Integration
```javascript
import MusicConverter from './src/index.js';

const converter = new MusicConverter();
await converter.convertToMusic("piano:C4.1+E4.1+G4.1;");
```

### Custom Implementation
```javascript
import { MusicParser } from './src/parser.js';
import { AudioEngine } from './src/audio.js';

const parser = new MusicParser();
const audioEngine = new AudioEngine();

const musicData = parser.parse("piano:C4.1;");
await audioEngine.play(musicData);
```

## Best Practices

### Instrument Combinations
- Use bass for foundation (low octaves 1-3)
- Piano for harmony (octaves 3-6)  
- Violin/panduri for melody (octaves 4-7)
- Drums for rhythm (timing patterns)

### Timing Guidelines
- Keep consistent measure lengths across instruments
- Use shorter durations (0.25, 0.5) for active parts
- Use longer durations (1, 2) for sustained parts
- Align chord changes across instruments

### Performance Tips
- Test complex pieces in segments
- Use comments to organize sections
- Start with simple patterns and add complexity
- Consider browser audio limitations for very long pieces

## Troubleshooting

### Common Issues
- **No sound**: Check browser audio permissions
- **Timing issues**: Ensure measure lengths match across instruments
- **Syntax errors**: Check semicolons, pipes, and note formats
- **Performance**: Limit concurrent instruments for complex pieces

### Debugging
- Use browser developer console for error messages
- Test individual instrument parts separately
- Verify note format: `Pitch+Octave.Duration`
- Check for proper semicolon termination

## File Structure
```
/
├── src/
│   ├── index.ts        # Main MusicConverter class
│   ├── parser.ts       # Notation parser
│   └── audio.ts        # Audio engine and instruments  
├── index.html          # Web interface
└── .instruction.md     # This file
```

## Contributing
When adding new features:
1. Update relevant TypeScript files
2. Test with various notation patterns
3. Update this instruction file
4. Add examples to index.html if appropriate

## License
MIT License - see LICENSE file for details.